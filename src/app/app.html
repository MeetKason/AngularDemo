<div class="app-container">
  <app-navbar-component></app-navbar-component>
  <div class="main">
    <!-- 左侧侧边栏 -->
    <div class="left-sidebar">
      <app-weather-sidebar></app-weather-sidebar>
    </div>
    <!-- 天气实况 -->
    <div *ngIf="popupSignal">
      <app-weather-section></app-weather-section>
    </div>
    <!-- 标题 -->
    <div class="title-section" *ngIf="layerTitle || windFieldTitle">
      <div *ngIf="layerTitle">{{ layerTitle }}</div>
      <div *ngIf="windFieldTitle">{{ windFieldTitle }}</div>
    </div>
    <!-- 地图 -->
    <div class="map-container">
      <app-leaflet-component></app-leaflet-component>
    </div>
    <!-- 预报 -->
    <div *ngIf="popupSignal" class="forecast-section" [class.has-player]="isRadarSelected">
      <app-weather-forecast></app-weather-forecast>
    </div>
    <!-- 右侧边栏切换按钮 -->
    <div
      class="right-sidebar-toggle"
      *ngIf="selectedRankingType !== 'none'"
      (click)="toggleRightSidebar()"
      [class.collapsed]="rightSidebarCollapsed"
    >
      <span class="toggle-text">{{ rightSidebarCollapsed ? '展开数据' : '收起数据' }}</span>
      <span class="toggle-arrow">{{ rightSidebarCollapsed ? '<' : '>' }}</span>
    </div>
    <!-- 右侧边栏 -->
    <div
      class="right-sidebar"
      *ngIf="selectedRankingType !== 'none'"
      [class.collapsed]="rightSidebarCollapsed"
    >
      <app-temperature-ranking
        *ngIf="selectedRankingType === 'temperature'"
      ></app-temperature-ranking>
      <app-precipitation-ranking
        *ngIf="selectedRankingType === 'precipitation'"
      ></app-precipitation-ranking>
    </div>
  </div>
  <!-- 雷达播放器 -->
  <app-radar-player *ngIf="isRadarSelected"></app-radar-player>
</div>
<router-outlet />
